<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <%- include("../partials/head") %>
</head>
<body>
    <%- include("../partials/header") %>
    <section>
        <div>
            <form action="/search/title" method="POST">
                <label for="title">Search Title</label>
                <input type="text" id="title" name="title">
                <br>
                <button>Search</button>
            </form>

            <form action="/search/category" method="POST">
                <label for="category">Search Category</label>
                <select name="category" id="category">
                <% const categoriesArr = []; %>
                <% for (const arr of items) { %>
                    <% categoriesArr.push(arr.categories); %>
                <% } %>
                <% const flatArr = categoriesArr.flat() %>
                <% const optionsArr = flatArr.filter((element, i) => flatArr.indexOf(element) === i); %>
                <% for (const option of optionsArr) { %>
                        <option value="<%=option %>" name="<%=option %>"><%=option %></option>
                    <% } %>
                </select>
                <br>
                <button>Search</button>
            </form>
        </div>
        <%- include("../partials/posts") %>
    </section>
    <%- include("../partials/footer") %>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>

